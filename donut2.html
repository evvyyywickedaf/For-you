<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Donut Love Catch — Cute Mini Game</title>

	<!-- Cute font -->
	<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700&family=Inter:wght@300;600&display=swap" rel="stylesheet">

	<style>
		:root{
			--bg: #f7cfe3;
			--accent: #ff7ab6;
			--accent-2: #ffd6e8;
			--card: #ffffffcc;
			--muted: #8a6b7a;
		}
		*{box-sizing:border-box}
		html,body{height:100%}
		body{
			margin:0;
			font-family: "Inter", "Baloo 2", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
			background: linear-gradient(180deg, var(--bg) 0%, #ffeef8 60%);
			color:#4a2a3a;
			-webkit-font-smoothing:antialiased;
			-moz-osx-font-smoothing:grayscale;
			display:flex;
			align-items:center;
			justify-content:center;
			padding:28px;
		}

		.wrapper{
			width:100%;
			max-width:980px;
			background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
			border-radius:18px;
			box-shadow: 0 12px 40px rgba(119,31,75,0.12);
			overflow:hidden;
			border: 1px solid rgba(255,255,255,0.6);
		}

		header{
			padding:18px 22px;
			display:flex;
			align-items:center;
			gap:14px;
		}

		/* back arrow */
		.back{
			display:inline-flex;
			align-items:center;
			justify-content:center;
			width:44px;
			height:44px;
			border-radius:10px;
			background:transparent;
			border:1px solid rgba(107,43,66,0.04);
			text-decoration:none;
			transition:background .12s ease, transform .12s ease;
			color:#8a1f47;
		}
		.back:hover{ background: rgba(255,240,248,0.7); transform:translateX(-6px) }
		.back svg{ display:block }

		.logo{
			width:64px;height:64px;border-radius:14px;background:linear-gradient(135deg,#fff8fb,#ffdff0);
			display:flex;align-items:center;justify-content:center;box-shadow: 0 6px 18px rgba(255,110,180,0.12);
			border: 2px solid rgba(255,255,255,0.6);
		}
		.logo .donut{
			width:44px;height:44px;border-radius:50%;
			background:linear-gradient(180deg,#ffd9ea,#ff6fb7);
			position:relative;box-shadow: inset 0 -6px 10px rgba(0,0,0,0.06);
			display:flex;align-items:center;justify-content:center;
		}
		.logo .donut::after{content:"";position:absolute;width:14px;height:14px;border-radius:50%;background:#f7cfe3;transform:translate(-6px,-6px) rotate(-20deg);}

		h1{font-family:"Baloo 2", "Inter"; margin:0; font-size:20px; color:#3b1b2a;}
		p.sub{margin:0;font-size:12px;color:var(--muted)}

		.top-right{margin-left:auto;padding-right:18px;display:flex;gap:10px;align-items:center}
		.score-badge{
			background:var(--accent-2);
			padding:8px 12px;border-radius:999px;color:#60193a;font-weight:600;font-size:13px;
			display:flex;gap:8px;align-items:center;box-shadow: 0 6px 18px rgba(255,110,180,0.06);
		}

		main{
			display:flex;
			gap:20px;
			padding:18px;
		}

		/* Game area */
		.play-area{
			background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.2));
			border-radius:12px;
			flex:1;
			min-height:480px;
			position:relative;
			overflow:hidden;
			border:1px solid rgba(255,255,255,0.6);
		}
		.sky{
			position:absolute;inset:0;
			pointer-events:none;
		}

		/* ground */
		.ground{
			position:absolute;left:0;right:0;bottom:0;height:100px;
			background: linear-gradient(180deg,#ffedf6,#ffe7f0);
			display:flex;align-items:center;justify-content:center;
			box-shadow: inset 0 8px 20px rgba(0,0,0,0.03);
		}

		/* Donut player */
		.player{
			position:absolute;bottom:38px;left:50%;transform:translateX(-50%);
			width:110px;height:110px;border-radius:50%;
			background: radial-gradient(circle at 30% 30%, #fff, transparent 25%), linear-gradient(180deg,#ffd9ea,#ff6fb7);
			box-shadow: 0 16px 30px rgba(119,31,75,0.12);
			display:flex;align-items:center;justify-content:center;
			transition:left 0.06s linear, transform 0.12s ease;
			cursor:grab;
		}
		.player:active{cursor:grabbing}
		.player .hole{width:28px;height:28px;border-radius:50%;background:#f7cfe3;box-shadow:inset 0 -4px 8px rgba(255,255,255,0.12)}
		.player .sprinkles{position:absolute;inset:0;pointer-events:none}
		.sprinkle{position:absolute;width:8px;height:3px;border-radius:3px;background:#fff;transform:rotate(25deg);opacity:0.95}

		/* Heart (collectible) */
		.heart{
			position:absolute;width:44px;height:40px;
			transform-origin:center bottom;
			pointer-events:auto;
			filter:drop-shadow(0 8px 14px rgba(255,110,180,0.14));
		}
		.heart svg{width:100%;height:100%}

		/* HUD */
		.sidebar{
			width:260px;min-width:220px;padding:8px 12px;display:flex;flex-direction:column;gap:12px;
		}
		.panel{background:var(--card);border-radius:12px;padding:12px;box-shadow: 0 8px 20px rgba(120,32,80,0.04)}
		.timer{font-weight:700;font-size:20px;color:#712039}
		.progress{height:12px;background:#ffe9f3;border-radius:999px;overflow:hidden}
		.progress > i{display:block;height:100%;background:linear-gradient(90deg,#ff9ac1,#ff6fb7);width:0%}

		.btn{
			display:inline-flex;gap:8px;align-items:center;justify-content:center;
			border:0;padding:10px 12px;border-radius:999px;background:linear-gradient(90deg,#ff6fb7,#ff7ab6);
			color:white;font-weight:700;cursor:pointer;box-shadow: 0 10px 26px rgba(255,110,180,0.14)
		}
		.btn.ghost{background:transparent;color:#6b2b42;border:1px dashed rgba(107,43,66,0.08);box-shadow:none;font-weight:600}

		.small{font-size:13px;color:var(--muted)}

		/* modal */
		.overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(247,207,227,0.8), rgba(255,255,255,0.6));display:flex;align-items:center;justify-content:center;z-index:40}
		.modal{background:white;padding:18px;border-radius:14px;box-shadow:0 20px 60px rgba(100,24,58,0.18);text-align:center;max-width:420px}

		/* confetti canvas */
		canvas.confetti{position:absolute;left:0;top:0;pointer-events:none;z-index:50}

		footer{padding:10px 18px;text-align:center;font-size:12px;color:var(--muted)}
		@media (max-width:880px){
			main{flex-direction:column}
			.sidebar{width:100%}
			.play-area{min-height:420px}
		}
	</style>
</head>
<body>
	<div class="wrapper" role="application" aria-label="Donut Love Catch Game">
		<header>
			<!-- Back arrow linking to comain.html -->
			<a href="comain.html" class="back" title="Back to main" aria-label="Back to main">
				<svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
					<path d="M15 18L8 12l7-6" stroke="#8a1f47" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
				</svg>
			</a>

			<div class="logo" aria-hidden="true">
				<div class="donut" title="Donut">
					<span style="position:absolute;right:8px;bottom:6px;width:10px;height:6px;background:#fff;border-radius:20px;transform:rotate(-25deg)"></span>
				</div>
			</div>
			<div>
				<h1 id="title">Donut Love Catch</h1>
				<p class="sub">A tiny sweet game ~ collect hearts for love!</p>
			</div>

			<div class="top-right">
				<div class="score-badge" title="High score">
					<svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="transform:translateY(1px)">
						<path d="M12 20s8-4.5 8-10.5S15.5 3 12 6.5 4 3.5 4 9.5 12 20 12 20z" fill="#ff6fb7"/>
					</svg>
					<span id="highScore">Best: 0</span>
				</div>
			</div>
		</header>

		<main>
			<section class="play-area" id="playArea" aria-label="Game area">
				<div class="sky" id="sky"></div>

				<div class="player" id="player" aria-hidden="false" role="img" aria-label="Donut player">
					<div class="sprinkles" id="sprinkles"></div>
					<div class="hole"></div>
				</div>

				<div class="ground" aria-hidden="true">
					<div style="text-align:center">
						<div style="font-weight:700;color:#7a3250">Sweet Ground</div>
						<div style="font-size:12px;color:var(--muted)">Move the donut and catch the falling hearts!</div>
					</div>
				</div>

				<canvas class="confetti" id="confetti"></canvas>
			</section>

			<aside class="sidebar" aria-hidden="false">
				<div class="panel">
					<div style="display:flex;justify-content:space-between;align-items:center">
						<div>
							<div class="small">Time</div>
							<div class="timer" id="timer">30</div>
						</div>
						<div style="text-align:right">
							<div class="small">Score</div>
							<div style="font-weight:800;font-size:20px;color:#ad1f55" id="score">0</div>
						</div>
					</div>

					<div style="margin-top:12px" class="small">Progress to next level</div>
					<div class="progress" aria-hidden="true" title="Level progress"><i id="progressBar"></i></div>

					<div style="margin-top:12px;display:flex;gap:8px">
						<button class="btn" id="startBtn">Start</button>
						<button class="btn ghost" id="resetBtn">Reset</button>
					</div>
				</div>

				<div class="panel">
					<div style="display:flex;align-items:center;gap:10px">
						<div style="width:52px;height:52px;border-radius:12px;background:linear-gradient(180deg,#fff2f7,#fff);display:flex;align-items:center;justify-content:center">
							<svg width="36" height="36" viewBox="0 0 24 24" fill="none">
								<path d="M12 21s8-4.5 8-10.5S15.5 3 12 6.5 4 3.5 4 9.5 12 21 12 21z" fill="#ff6fb7"/>
							</svg>
						</div>
						<div>
							<div style="font-weight:700">For you sweetheart</div>
							<div class="small">A tiny cute game to send love. Tap hearts or move the donut to catch them. Good luck!</div>
						</div>
					</div>
				</div>

				<div class="panel small" style="display:flex;flex-direction:column;gap:8px">
					<div style="display:flex;justify-content:space-between"><span>Level</span><strong id="level">1</strong></div>
					<div style="display:flex;justify-content:space-between"><span>Hearts caught</span><strong id="caught">0</strong></div>
					<div style="display:flex;justify-content:space-between"><span>High score</span><strong id="highScore2">0</strong></div>
				</div>
			</aside>
		</main>

		<footer>Made with sugar & sprinkles ♥</footer>
	</div>

	<script>
		// Basic game variables
		const playArea = document.getElementById('playArea');
		const sky = document.getElementById('sky');
		const player = document.getElementById('player');
		const startBtn = document.getElementById('startBtn');
		const resetBtn = document.getElementById('resetBtn');
		const scoreEl = document.getElementById('score');
		const timerEl = document.getElementById('timer');
		const progressBar = document.getElementById('progressBar');
		const levelEl = document.getElementById('level');
		const caughtEl = document.getElementById('caught');
		const highScoreEl = document.getElementById('highScore');
		const highScoreEl2 = document.getElementById('highScore2');
		const confettiCanvas = document.getElementById('confetti');

		let areaRect, playerRect;
		let gameInterval, spawnInterval, timerInterval;
		let hearts = [];
		let score = 0;
		let caught = 0;
		let timeLeft = 30;
		let running = false;
		let level = 1;
		let highScore = +localStorage.getItem('donut_high') || 0;

		highScoreEl.textContent = 'Best: ' + highScore;
		highScoreEl2.textContent = highScore;

		// Sprinkles on donut
		const sprinkles = document.getElementById('sprinkles');
		const sprinkleColors = ['#fff','#ffd6ec','#ffd9ea','#ffe685','#ff9ac1','#fff7b2'];
		for(let i=0;i<12;i++){
			const s = document.createElement('div');
			s.className = 'sprinkle';
			s.style.left = Math.random()*80 + '%';
			s.style.top = Math.random()*80 + '%';
			s.style.transform = 'rotate(' + (Math.random()*360|0) + 'deg)';
			s.style.background = sprinkleColors[i%sprinkleColors.length];
			s.style.opacity = 0.95;
			sprinkles.appendChild(s);
		}

		// Responsive canvas for confetti
		function resizeCanvas(){
			confettiCanvas.width = playArea.clientWidth;
			confettiCanvas.height = playArea.clientHeight;
			confettiCanvas.style.width = playArea.clientWidth + 'px';
			confettiCanvas.style.height = playArea.clientHeight + 'px';
		}
		window.addEventListener('resize', resizeCanvas);
		resizeCanvas();

		// Simple WebAudio chime
		const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
		function playChime(freq=880, duration=0.08){
			const o = audioCtx.createOscillator();
			const g = audioCtx.createGain();
			o.type = 'sine';
			o.frequency.value = freq;
			g.gain.value = 0.0001;
			o.connect(g);
			g.connect(audioCtx.destination);
			const now = audioCtx.currentTime;
			g.gain.exponentialRampToValueAtTime(0.12, now+0.01);
			o.start(now);
			g.gain.exponentialRampToValueAtTime(0.0001, now+duration);
			o.stop(now+duration+0.02);
		}

		// Spawn hearts
		function spawnHeart(){
			const h = document.createElement('div');
			h.className = 'heart';
			const size = 34 + Math.random()*28; // 34-62
			h.style.width = size + 'px';
			h.style.height = (size*0.9) + 'px';
			const x = Math.random() * (playArea.clientWidth - size - 24) + 12;
			h.style.left = x + 'px';
			h.style.top = '-60px';
			h.dataset.speed = (1 + Math.random()*1.6 + (level-1)*0.2).toFixed(2);
			h.innerHTML = `
				<svg viewBox="0 0 24 24" aria-hidden="true">
					<path d="M12 21s-7.5-4.7-9.2-7.2C-0.3 8 4.2 3 7.6 5c1.6 1 2.2 2.8 4.4 2.8s2.8-1.8 4.4-2.8C19.8 3 24.3 8 21.2 13.8 19.5 16.3 12 21 12 21z" fill="#ff6fb7"/>
				</svg>
			`;
			sky.appendChild(h);
			hearts.push(h);

			// small float animation
			h.animate([
				{ transform: 'translateY(0px) rotate(0deg)' },
				{ transform: 'translateY(8px) rotate(6deg)' },
				{ transform: 'translateY(0px) rotate(0deg)' }
			], { duration: 1200 + Math.random()*1200, iterations: Infinity });
		}

		// Move hearts & detect collisions
		function updateGame(){
			areaRect = playArea.getBoundingClientRect();
			playerRect = player.getBoundingClientRect();

			for(let i=hearts.length-1;i>=0;i--){
				const h = hearts[i];
				const speed = parseFloat(h.dataset.speed);
				const curTop = parseFloat(h.style.top);
				h.style.top = (curTop + speed*2.2) + 'px';

				const hre = h.getBoundingClientRect();
				// collision check
				if(rectIntersect(hre, playerRect)){
					collectHeart(h);
					continue;
				}
				// off screen
				if(hre.top > areaRect.bottom - 40){
					// missed — small bounce
					hearts.splice(i,1);
					h.remove();
					createMissBurst(hre.left - areaRect.left + 20, playArea.clientHeight - 120);
				}
			}
		}

		function rectIntersect(a,b){
			return !(a.right < b.left || a.left > b.right || a.bottom < b.top || a.top > b.bottom);
		}

		function collectHeart(h){
			playChime(950 + Math.random()*180, 0.06);
			score += 10;
			caught += 1;
			scoreEl.textContent = score;
			caughtEl.textContent = caught;
			// update progress/level
			updateProgress();
			// small pop particle
			const hre = h.getBoundingClientRect();
			createBurst(hre.left - areaRect.left + hre.width/2, hre.top - areaRect.top + hre.height/2);
			// remove heart
			const idx = hearts.indexOf(h);
			if(idx>=0) hearts.splice(idx,1);
			h.remove();

			// small bounce animation of player
			player.style.transform = 'translateX(-50%) translateY(-8px) scale(1.03)';
			setTimeout(()=>player.style.transform = 'translateX(-50%) translateY(0) scale(1)', 140);

			// level up check
			if(score >= level * 200){
				levelUp();
			}
		}

		// Particle bursts (tiny hearts)
		function createBurst(x,y){
			for(let i=0;i<8;i++){
				const p = document.createElement('div');
				p.style.position='absolute';
				p.style.left = (x-8) + 'px';
				p.style.top = (y-8) + 'px';
				p.style.width = '12px';
				p.style.height = '12px';
				p.style.pointerEvents='none';
				p.style.opacity = 0.95;
				p.innerHTML = `<svg viewBox="0 0 24 24"><path d="M12 21s-7.5-4.7-9.2-7.2C-0.3 8 4.2 3 7.6 5c1.6 1 2.2 2.8 4.4 2.8s2.8-1.8 4.4-2.8C19.8 3 24.3 8 21.2 13.8 19.5 16.3 12 21 12 21z" fill="#ff9ac1"/></svg>`;
				sky.appendChild(p);
				const angle = Math.random()*Math.PI*2;
				const dist = 24 + Math.random()*40;
				const dx = Math.cos(angle)*dist;
				const dy = Math.sin(angle)*dist - 20;
				p.animate([
					{ transform: 'translate(0px,0px) scale(1)', opacity:1 },
					{ transform: 'translate(' + dx + 'px,' + dy + 'px) scale(0.7)', opacity:0 }
				], { duration: 700+Math.random()*300, easing:'cubic-bezier(.2,.9,.3,1)' });
				setTimeout(()=>p.remove(), 900);
			}
		}

		function createMissBurst(x,y){
			// small sad puff
			const p = document.createElement('div');
			p.style.position='absolute';
			p.style.left = (x-12) + 'px';
			p.style.top = (y-12) + 'px';
			p.style.width = '24px';
			p.style.height = '24px';
			p.style.opacity = 0.9;
			p.innerHTML = `<svg viewBox="0 0 24 24"><path d="M12 21s-7.5-4.7-9.2-7.2C-0.3 8 4.2 3 7.6 5c1.6 1 2.2 2.8 4.4 2.8" stroke="#d09" stroke-width="2" fill="none"/></svg>`;
			sky.appendChild(p);
			p.animate([{transform:'translateY(0px)'},{transform:'translateY(18px)', opacity:0}],{duration:700});
			setTimeout(()=>p.remove(),800);
		}

		// Level up
		function levelUp(){
			level++;
			levelEl.textContent = level;
			// increase difficulty by spawning faster hearts
			clearInterval(spawnInterval);
			startSpawning();
			// celebration
			runConfetti(120);
			playChime(1200,0.16);
		}

		// Progress bar
		function updateProgress(){
			const goal = level * 200;
			const pct = Math.min(100, (score/goal)*100);
			progressBar.style.width = pct + '%';
		}

		// Game loop
		function startGame(){
			if(running) return;
			running = true;
			// reset values
			score = 0; caught = 0; timeLeft = 30; level = 1;
			scoreEl.textContent = score;
			caughtEl.textContent = caught;
			levelEl.textContent = level;
			timerEl.textContent = timeLeft;
			progressBar.style.width = '0%';

			// clear existing hearts
			hearts.forEach(h=>h.remove());
			hearts = [];

			// start spawn and loop
			startSpawning();
			gameInterval = setInterval(updateGame, 24);
			timerInterval = setInterval(()=>{
				timeLeft--;
				timerEl.textContent = timeLeft;
				if(timeLeft <= 0){
					endGame();
				}
			}, 1000);

			// subtle player bobbing
			player.animate([{transform:'translateX(-50%) translateY(0)'},{transform:'translateX(-50%) translateY(-6px)'}],{duration:1400,iterations:Infinity,direction:'alternate',easing:'ease-in-out'});
		}

		function endGame(){
			running = false;
			clearInterval(gameInterval);
			clearInterval(spawnInterval);
			clearInterval(timerInterval);

			// remove remaining hearts
			hearts.forEach(h=>h.remove());
			hearts = [];

			// save highscore
			if(score > highScore){
				highScore = score;
				localStorage.setItem('donut_high', highScore);
			}

			highScoreEl.textContent = 'Best: ' + highScore;
			highScoreEl2.textContent = highScore;

			// show modal
			showResult();
		}

		function resetGame(){
			running = false;
			clearInterval(gameInterval);
			clearInterval(spawnInterval);
			clearInterval(timerInterval);
			hearts.forEach(h=>h.remove());
			hearts = [];
			score = 0; caught = 0; timeLeft = 30; level = 1;
			scoreEl.textContent = score; caughtEl.textContent = caught; timerEl.textContent = timeLeft; levelEl.textContent = level;
			progressBar.style.width = '0%';
		}

		// Spawning logic with ramp up per level
		function startSpawning(){
			const baseRate = Math.max(550 - (level-1)*40, 220); // ms per spawn
			spawnInterval = setInterval(()=>{
				spawnHeart();
			}, baseRate);
		}

		// Player movement (mouse / touch / keyboard)
		function movePlayerTo(x){
			const area = playArea.getBoundingClientRect();
			const px = Math.min(Math.max(x - area.left, 40), area.width - 40);
			player.style.left = px + 'px';
		}
		playArea.addEventListener('mousemove', (e)=>{ movePlayerTo(e.clientX); });
		playArea.addEventListener('touchmove', (e)=>{ if(e.touches[0]) movePlayerTo(e.touches[0].clientX); });

		document.addEventListener('keydown', (e)=>{
			if(e.key === 'ArrowLeft' || e.key === 'a'){ // left
				const cur = player.getBoundingClientRect();
				movePlayerTo(cur.left - 60);
			} else if(e.key === 'ArrowRight' || e.key === 'd'){
				const cur = player.getBoundingClientRect();
				movePlayerTo(cur.left + 84);
			}
		});

		// Click hearts to collect (tap)
		sky.addEventListener('click', (e)=>{
			const target = e.target.closest('.heart');
			if(target && running){
				collectHeart(target);
			}
		});

		// Confetti (canvas) - lightweight
		function runConfetti(pieces = 100){
			const ctx = confettiCanvas.getContext('2d');
			const W = confettiCanvas.width, H = confettiCanvas.height;
			const conf = [];
			for(let i=0;i<pieces;i++){
				conf.push({
					x: Math.random()*W,
					y: Math.random()*H*0.6,
					r: 6+Math.random()*8,
					d: Math.random()*Math.PI*2,
					color: ['#fff2f7','#ffd6ec','#ff9ac1','#ffd6e8'][Math.random()*4|0],
					tilt: Math.random()*10-5,
					vY: 2+Math.random()*3,
					vX: Math.random()*4-2
				});
			}
			let t = 0;
			function render(){
				ctx.clearRect(0,0,W,H);
				conf.forEach((c)=>{
					ctx.save();
					ctx.translate(c.x, c.y);
					ctx.rotate(c.d + t*0.02);
					ctx.fillStyle = c.color;
					ctx.fillRect(-c.r/2 + c.tilt, -c.r/2, c.r, c.r*0.6);
					ctx.restore();
					c.y += c.vY;
					c.x += c.vX;
					c.d += 0.02;
					if(c.y > H+20) c.y = -10;
				});
				t++;
			}
			let id = setInterval(render, 24);
			setTimeout(()=>{ clearInterval(id); ctx.clearRect(0,0,W,H); }, 2200);
		}

		// Result modal
		function showResult(){
			const overlay = document.createElement('div');
			overlay.className = 'overlay';
			overlay.innerHTML = `
				<div class="modal" role="dialog" aria-modal="true" aria-label="Game result">
					<div style="font-size:22px;font-weight:800;color:#8a1f47">Game over! ♥</div>
					<div style="margin-top:8px;font-size:14px;color:#6b2b42">You collected <strong>${caught}</strong> hearts and scored <strong>${score}</strong> points.</div>
					<div style="margin-top:12px;display:flex;gap:10px;justify-content:center">
						<button class="btn" id="shareBtn">Share Love</button>
						<button class="btn ghost" id="playAgain">Play again</button>
					</div>
				</div>
			`;
			playArea.appendChild(overlay);
			runConfetti(140);
			if(score >= highScore){
				overlay.querySelector('.modal').insertAdjacentHTML('beforeend', '<div class="small" style="margin-top:10px;color:#9b3060">New high score! You are the sweetest ♥</div>');
			}
			// share and play again
			overlay.querySelector('#playAgain').addEventListener('click', ()=>{
				overlay.remove();
				resetGame();
				startGame();
			});
			overlay.querySelector('#shareBtn').addEventListener('click', ()=>{
				const text = `I scored ${score} points in Donut Love Catch! ♥ Can you beat me?`;
				if(navigator.share){
					navigator.share({title:'Donut Love Catch', text});
				} else {
					navigator.clipboard.writeText(text).then(()=>alert('Share text copied to clipboard!'));
				}
			});
		}

		// Small heart burst periodic float
		setInterval(()=>{ if(!running) spawnHeart(); }, 1200);

		// Buttons
		startBtn.addEventListener('click', ()=>{
			audioCtx.resume();
			startGame();
		});
		resetBtn.addEventListener('click', resetGame);

		// Update loop
		setInterval(()=>{ if(running) { updateGame(); } }, 28);

		// Kick things off visually
		for(let i=0;i<6;i++) spawnHeart();
		updateProgress();

		// tiny helper for accessibility: announce result to screen readers
		function announce(msg){
			let el = document.getElementById('announce');
			if(!el){
				el = document.createElement('div');
				el.id = 'announce';
				el.setAttribute('aria-live','polite');
				el.style.position='absolute';
				el.style.left='-9999px';
				document.body.appendChild(el);
			}
			el.textContent = msg;
		}
	</script>
</body>
</html>